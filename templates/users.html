{% extends "layout.html" %}
{% block content %}


<div class="jumbotron">
 <div class="container">
    <div class="main_btns_users">
        <div class="header add_user">
          <a href="{{ url_for('users.add_new_user') }}">
              <img class="control_btn" src="{{ url_for('static', filename='images/plus-4-128.png' )}}" alt='add_user'>
          </a>
        </div>
        <h1 class="header pagename">Users</h1>
    </div>

    <div class="container_2">
        <table class="table">
            <thead class="thead-dark">
            <tr>
              <th scope="col">NAME</th>
              <th scope="col">CREATED</th>
              <th scope="col">GROUP</th>
              <th scope="col">ACTION</th>
            </tr>
            </thead>
            <tbody>
            {% for user in user_list.items %}
            <tr>
              <td>{{ user.username }}</td>
              <td>{{ user.created }}</td>
              <td>{{ user.group }}</td>
              <td><div class="add_btn">
                <a href="{{ url_for('users.change_user', user_id=user.id) }}">
                    <img src="{{ url_for('static', filename='images/edit.png' )}}" alt="edit">
                </a>
                <a href="{{ url_for('users.delete_user', user_id=user.id) }}">
                    <img src="{{ url_for('static', filename='images/delete.png' )}}" alt="delete">
                </a>

              </div></td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- Modal -->
     <div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel" aria-hidden="true">
       <div class="modal-dialog" role="document">
         <div class="modal-content">
           <div class="modal-header">
             <h5 class="modal-title" id="deleteModalLabel">Delete user?</h5>
             <button type="button" class="close" data-dismiss="modal" aria-label="Close">
               <span aria-hidden="true">&times;</span>
             </button>
           </div>
         </div>
       </div>
     </div>

    <div class="centred">
        {% for page_num in user_list.iter_pages(left_edge=1, right_edge=1, left_current=1, right_current=2) %}
          {% if page_num %}
            {% if user_list.page == page_num %}
              <a class="btn btn-info mb-4" href="{{ url_for('users.user_page', page=page_num) }}">{{ page_num }}</a>
            {% else %}
              <a class="btn btn-outline-info mb-4" href="{{ url_for('users.user_page', page=page_num) }}">{{ page_num }}</a>
            {% endif %}
          {% else %}
            ...
          {% endif %}
        {% endfor %}
    </div>
  </div>
</div>

{% endblock content %}
